{% extends "network/layout.html" %}

{% block body %}

    <h4>Profile Page</h4>

    <div class="profileDetails">
        <div class="userPage">
            <strong>{{ profile_owner.username }}</strong>
        </div>
        <div class="userFollowers">
            <strong>Follow: {{ profile_owner.followed_users.count }}</strong>
        </div>
        <div class="userFollows">
            <strong>Followers: {{ profile_owner.followers.count }}</strong>
        </div>
        {% if user.is_authenticated and user != profile_owner %}
        <div class="userFollowers">
            <form action="{% url 'update_follows' profile_owner.id %}" method="POST">
                {% csrf_token %}
                {% if is_followed %}
                    <button type="submit">Unfollow</button>
                {% else %}
                    <button type="submit">Follow</button> 
                {% endif %}
            </form>
        </div>               
        {% endif %}
    </div>
    <hr>
    {% for post in posts %}
        {% if post.owner == profile_owner %}
            <div class="content">
                <div class="post_by">
                    <strong>Posted by: </strong><a  href="{% url 'profile_page' post.owner.id %}"><strong>{{ post.owner.username }}</strong></a>
                </div>
                <div class="timestamp">
                    <strong></strong>{{ post.created_date }}
                </div>
                <div class="description">
                    {{ post.description }}
                </div>
                <div class="like">
                    <img src="https://play-lh.googleusercontent.com/7hAq25yPmjdVuPeEpC8DQnHGsgo-BuNXhRVlSt0IYOXpKj8puu0PCDFsZHlJWkdN8kU" alt="Like" width="22"> {{ post.like }}<strong>&nbsp; Likes</strong>
                </div>
            </div>
        {% endif %}
        {% empty %}
            <h4>The are no posts available!</h4>
    {% endfor %}
    

{% endblock %}